<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>8. Math</title>
    <script src="1.js"></script>
</head>
<p>

<p><h2>JS.4.3, (8) add, sub, mul, and div fraction</h2></p>

<form id="myForm" action="fraction.html">
    Numerator 1:
    <br>
    <input type="number" id="numerator" value="2">
    <br><br>
    Denominator 1:
    <br>
    <input type="number" id="denominator" value="4">
    <br><br>
    Numerator 2:
    <br>
    <input type="number" id="numerator2" value="2">
    <br><br>
    Denominator 2:
    <br>
    <input type="number" id="denominator2" value="4">
    <br><br>
</form>


<p>Opdate page when input new numbers, before arithmetical!</p>
<br>

<button onclick="getElementById('demo').innerHTML=add()">add</button>
<button onclick="getElementById('demo').innerHTML=sub()">subtract</button>
<button onclick="getElementById('demo').innerHTML=mul()">multiply</button>
<button onclick="getElementById('demo').innerHTML=div()">divide</button>

<br>

<p id=demo></p>

<script>

        let st1 = Object.create(rational); //create two object
        let st2 = Object.create(rational);

        st1.init(document.getElementById("myForm").elements[0].value, document.getElementById("myForm").elements[1].value); //add properties from form
        st2.init(document.getElementById("myForm").elements[2].value, document.getElementById("myForm").elements[3].value);

        let n1 = document.getElementById("myForm").elements[0].value;
        let d1 = document.getElementById("myForm").elements[1].value;

        let n2 = document.getElementById("myForm").elements[2].value;
        let d2 = document.getElementById("myForm").elements[3].value;

        function add() {
            var d = (d1*d2);
            var n1ny = n1*(d/d1);
            var n2ny = n2*(d/d2);
            var n = n1ny + n2ny;

            var gcd = function gcd(a,b){
                return b ? gcd(b, a%b) : a;
            };
            gcd = gcd(n,d);
            return [n/gcd + "/" + d/gcd];
        }

        function sub() {
            var d = (d1*d2);
            var n1ny = n1*(d/d1);
            var n2ny = n2*(d/d2);
            var n = n1ny - n2ny;

            var gcd = function gcd(a,b){
                return b ? gcd(b, a%b) : a;
            };
            gcd = gcd(n,d);
            return [n/gcd + "/" + d/gcd];
        }

        function mul () {

            var n = n1 * n2;
            var d = d1 * d2;

            var gcd = function gcd(a,b){
                return b ? gcd(b, a%b) : a;
            };
            gcd = gcd(n,d);
            return [n/gcd + "/" + d/gcd];
        }


        function div () {

            var n = n1 * d2;
            var d = d1 * n2;

            var gcd = function gcd(a,b){
                return b ? gcd(b, a%b) : a;
            };
            gcd = gcd(n,d);
            return [n/gcd + "/" + d/gcd];
        }

        console.log(st1);
        console.log(st1.toString());
        console.log(st2);
        console.log(st2.toString());



</script>


</body>
</html>