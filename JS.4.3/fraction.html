<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment JS.4.3 Objects</title>
    <script src="1.js"></script>
</head>
<body>

<p><h2>Assignment JS.4.3 Objects</h2></p>

<form id="myForm" action="fraction.html">
    Input 1 Numerator:
    <br>
    <input type="number" id="numerator" value="1">
    <br><br>
    Input 1 Denominator:
    <br>
    <input type="number" id="denominator"  value="2">
    <br><br>
    Input 2 Numerator:
    <br>
    <input type="number" name="numerator2" value="1">
    <br><br>
    Input 2 Denominator:
    <br>
    <input type="number" name=" denominator2" value="3">
    <br><br>
</form>

<button onclick="Function1()">1. Create object "Rationel" from the input form.</button>
<br>
<button onclick="Function2()">2. Create the fraction 0/1 if numerator or denominator is not set!.</button>
<br>
<button onclick="Function3()">3. Using toString() method to print.</button>
<br>
<button onclick="Function4()">4. Negate by multiply with -1</button>
<br>
<button onclick="Function5()">5. Invert, swapping the numerator and the denominator</button>
<br>
<button onclick="Function6()">6. toFloat, fraction to decimal</button>
<br>
<button onclick="getElementById('demo').innerHTML=reduce(); console.log(reduce())">7. Reduce</button>
<br><br>

<p>8. Opdate page when input new numbers, before arithmetical!</p>

<button onclick="getElementById('demo').innerHTML=add()">add</button>
<button onclick="getElementById('demo').innerHTML=sub()">subtract</button>
<button onclick="getElementById('demo').innerHTML=mul()">multiply</button>
<button onclick="getElementById('demo').innerHTML=div()">divide</button>

<br>


<p id="demo"></p>

<script>



    /** 1. create object Rational from form input form */
    function Function1() {
        let st1 = Object.create(rational);
        st1.setNumerator(document.getElementById("myForm").elements[0].value);
        st1.setDenominator(document.getElementById("myForm").elements[1].value);
        console.log(st1);
    }

    /** 2. Create the fraction 0/1 if numerator or denominator is not set! */
    function Function2() {
        let st1 = Object.create(rational);
        let x = document.getElementById("myForm").elements[0].value;
        let y = document.getElementById("myForm").elements[1].value;
        if (x === "" || y === "") {
            x = 0;
            y = 1;
            st1.setNumerator(0);
            st1.setDenominator(1);
        } else {
            st1.setNumerator(document.getElementById("myForm").elements[0].value);
            st1.setDenominator(document.getElementById("myForm").elements[1].value);
        }
        console.log(st1);
    }

    /** 3. Using toString() method to print, see 1.js.*/
    function Function3() {
        let st1 = Object.create(rational);
        st1.setNumerator(document.getElementById("myForm").elements[0].value);
        st1.setDenominator(document.getElementById("myForm").elements[1].value);
        console.log(st1.toString());
        document.getElementById("demo").innerHTML = "3: " + st1.toString();
    }

    /** 4. Using toString() method to print, see 1.js.*/
    function Function4() {
        let st1 = Object.create(rational);
        st1.setNumerator(document.getElementById("myForm").elements[0].value);
        st1.setDenominator(document.getElementById("myForm").elements[1].value);
        let x = document.getElementById("myForm").elements[0].value;
        let y = document.getElementById("myForm").elements[1].value;
        console.log("-" + st1.toString());
        document.getElementById("demo").innerHTML = "4: " + "-" + (x + "/" + y);
    }

    /** 5. Invert, swapping the numerator and the denominator */
    function Function5() {
        let st1 = Object.create(rational);
        st1.setNumerator(document.getElementById("myForm").elements[1].value);
        st1.setDenominator(document.getElementById("myForm").elements[0].value);
        console.log(st1);
        document.getElementById("demo").innerHTML = "5: " + st1.toString();
    }

    /** 6. toFloat, fraction to decimal */
    function Function6() {
        let st1 = Object.create(rational);
        st1.setNumerator(document.getElementById("myForm").elements[0].value);
        st1.setDenominator(document.getElementById("myForm").elements[1].value);
        let x = document.getElementById("myForm").elements[0].value;
        let y = document.getElementById("myForm").elements[1].value;
        console.log(st1.toFloat());
        document.getElementById("demo").innerHTML = "6: " + (x/y);
    }

    /** 7. reduce */
    function reduce(){
        var n = document.getElementById("myForm").elements[0].value
        var d = document.getElementById("myForm").elements[1].value
        var gcd = function gcd(a,b){
            return b ? gcd(b, a%b) : a;
        };
        gcd = gcd(n,d);
        return [n/gcd + "/" + d/gcd];
    }


    /** 8. add, sub, mul and div arithmetical */
    let st1 = Object.create(rational);
    let st2 = Object.create(rational);

    st1.init(document.getElementById("myForm").elements[0].value, document.getElementById("myForm").elements[1].value);
    st2.init(document.getElementById("myForm").elements[2].value, document.getElementById("myForm").elements[3].value);

    let n1 = document.getElementById("myForm").elements[0].value;
    let d1 = document.getElementById("myForm").elements[1].value;

    let n2 = document.getElementById("myForm").elements[2].value;
    let d2 = document.getElementById("myForm").elements[3].value;

    function add() {
        var d = (d1*d2);
        var n1ny = n1*(d/d1);
        var n2ny = n2*(d/d2);
        var n = n1ny + n2ny;

        var gcd = function gcd(a,b){
            return b ? gcd(b, a%b) : a;
        };
        gcd = gcd(n,d);
        return [n/gcd + "/" + d/gcd];
    }

    function sub() {
        var d = (d1*d2);
        var n1ny = n1*(d/d1);
        var n2ny = n2*(d/d2);
        var n = n1ny - n2ny;

        var gcd = function gcd(a,b){
            return b ? gcd(b, a%b) : a;
        };
        gcd = gcd(n,d);
        return [n/gcd + "/" + d/gcd];
    }

    function mul () {

        var n = n1 * n2;
        var d = d1 * d2;

        var gcd = function gcd(a,b){
            return b ? gcd(b, a%b) : a;
        };
        gcd = gcd(n,d);
        return [n/gcd + "/" + d/gcd];
    }

    function div () {

        var n = n1 * d2;
        var d = d1 * n2;

        var gcd = function gcd(a,b){
            return b ? gcd(b, a%b) : a;
        };
        gcd = gcd(n,d);
        return [n/gcd + "/" + d/gcd];
    }

</script>

</body>
</html>